var esfera,esfera2,esfera3,esfera4,viewer,progress,progressElement,vmacess,vmvr,v_esf,v_prog,tooltipSpan,btn_acess,btn_acess_ok,btn_acess_x,modal_acess,audio_acess_inicio,audio_esfera,audio_esfera2,audio_esfera3,audio_esfera4,btn_vr;function onEnter(e){progresstxt.fadeIn(500),progressElement.style.width=0,progressElement.classList.remove("finish")}function onOut(e){stop_acess(),$.when(progresstxt.fadeOut(1500)).done(function(){comecar_acess()})}function onProgress(e){progress=e.progress.loaded/e.progress.total*100,progressElement.style.width=progress+"%",100===progress&&(progressElement.classList.add("finish"),progressElement.classList.contains("finish")&&onOut())}function play_acess(){if(audio_esfera.load(),audio_esfera2.load(),audio_esfera3.load(),audio_esfera4.load(),1==vmacess)switch(v_esf){case 1:audio_esfera.play();break;case 2:audio_esfera2.play();break;case 3:audio_esfera3.play();break;case 4:audio_esfera4.play()}}function comecar_acess(){setTimeout(function(){play_acess()},500)}function stop_acess(){audio_esfera.pause(),audio_esfera.currentTime=0,audio_esfera2.pause(),audio_esfera2.currentTime=0,audio_esfera3.pause(),audio_esfera3.currentTime=0,audio_esfera4.pause(),audio_esfera4.currentTime=0}function title_pin(e,t){tooltipSpan=document.getElementById("tooltip-span"),tooltipSpan_in_out=$("#tooltip-span"),"saiu"==t?(tooltipSpan_in_out.fadeOut(50),tooltipSpan.innerHTML=null):"entrou"==t&&(tooltipSpan.innerHTML=e,tooltipSpan_in_out.fadeIn(50),window.onmousemove=function(e){var t=e.clientX,n=e.clientY;tooltipSpan.style.top=n+20+"px",tooltipSpan.style.left=t+20+"px"})}function title_btn(e,t){tooltipSpan=document.getElementById("tooltip-span"),tooltipSpan_in_out=$("#tooltip-span"),"saiu"==t?(tooltipSpan_in_out.fadeOut(50),tooltipSpan.innerHTML=null):"entrou"==t&&(tooltipSpan.innerHTML=e,tooltipSpan_in_out.fadeIn(50),window.onmousemove=function(e){var t=e.clientX,n=e.clientY;tooltipSpan.style.top=n-60+"px",tooltipSpan.style.left=t+5+"px"})}btn_acess=document.getElementById("btn-acess"),modal_acess=document.getElementById("modal_acess"),btn_acess_x=document.getElementById("btn_acess_x"),btn_acess_ok=document.getElementById("btn_acess_ok"),audio_acess_inicio=document.getElementById("aud_acess_inicio"),audio_esfera=document.getElementsByClassName("aud_esfera")[0],audio_esfera2=document.getElementsByClassName("aud_esfera")[1],audio_esfera3=document.getElementsByClassName("aud_esfera")[2],audio_esfera4=document.getElementsByClassName("aud_esfera")[3],btn_vr=document.getElementById("btn-vr"),(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&($("#btn-vr").prop("disabled",!1),$("#btn-vr").prop("title",!1)),progressElement=document.getElementById("progress"),progresstxt=$(".txt_load"),(esfera=new PANOLENS.ImagePanorama("_assets/_img/sala.jpg")).addEventListener("enter",function(){v_esf=1,onEnter()}),esfera.addEventListener("progress",onProgress),esfera.addEventListener("load",function(){v_prog=null}),esfera.addEventListener("enter",function(){1==v_prog&&onOut()}),esfera.addEventListener("load",function(){v_prog=1}),pin_img_e1=new PANOLENS.Infospot(350,PANOLENS.DataImage.Foto),pin_img_e1.position.set(4919.98,125.3,-823.53),pin_img_e1.addHoverElement(document.getElementById("imagem-1"),170),pin_img_e1.addEventListener("hoverenter",function(){title_pin("Imagem da varanda","entrou"),null!==vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate())}),pin_img_e1.addEventListener("hoverleave",function(){title_pin("Imagem da varanda","saiu")}),pin_img_e1.addEventListener("click",function(){null!==vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate("long"))}),pin_map_e1=new PANOLENS.Infospot(350,PANOLENS.DataImage.Info),pin_map_e1.position.set(-20.46,-245,-4989.3),pin_map_e1.addHoverElement(document.getElementById("mapeamento-1"),170),pin_map_e1.addEventListener("hoverenter",function(){title_pin("Mapa","entrou"),null!==vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate())}),pin_map_e1.addEventListener("hoverleave",function(){title_pin("Mapa","saiu")}),pin_map_e1.addEventListener("click",function(){null!=vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate("long"))}),pin_aud_e1=new PANOLENS.Infospot(350,PANOLENS.DataImage.Audio),pin_aud_e1.position.set(2545.37,3098.26,-2975.31),pin_aud_e1.addHoverElement(document.getElementById("audio-1"),170),pin_aud_e1.addEventListener("hoverenter",function(){title_pin("áudio sobre o teto","entrou"),null!=vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate())}),pin_aud_e1.addEventListener("hoverleave",function(){title_pin("Áudio sobre o teto","saiu")}),pin_aud_e1.addEventListener("click",function(){null!=vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate("long"))}),(esfera2=new PANOLENS.ImagePanorama("_assets/_img/cozinha.jpg")).addEventListener("enter",function(){v_esf=2,onEnter()}),esfera2.addEventListener("progress",onProgress),esfera2.addEventListener("load",function(){v_prog=null}),esfera2.addEventListener("enter",function(){1==v_prog&&onOut()}),esfera2.addEventListener("load",function(){v_prog=1}),pin_inf_e2=new PANOLENS.Infospot(350,PANOLENS.DataImage.Info),pin_inf_e2.position.set(1309.44,-2970.1,3798),pin_inf_e2.addHoverText("Um fogão Cooktop embutido de 4 bocas, com um designer esbanjado e acabamento chromado.",100),pin_inf_e2.addEventListener("hoverenter",function(){title_pin("Explicação sobre o fogão","entrou"),null!=vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate())}),pin_inf_e2.addEventListener("hoverleave",function(){title_pin("Explicação sobre o fogão","saiu")}),pin_inf_e2.addEventListener("click",function(){null!=vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate("long"))}),(esfera3=new PANOLENS.ImagePanorama("_assets/_img/quarto.png")).addEventListener("enter",function(){v_esf=3,onEnter()}),esfera3.addEventListener("progress",onProgress),esfera3.addEventListener("load",function(){v_prog=null}),esfera3.addEventListener("enter",function(){1==v_prog&&onOut()}),esfera3.addEventListener("load",function(){v_prog=1}),(esfera4=new PANOLENS.ImagePanorama("_assets/_img/banheiro.jpg")).addEventListener("enter",function(){v_esf=4,onEnter()}),esfera4.addEventListener("progress",onProgress),esfera4.addEventListener("load",function(){v_prog=null}),esfera4.addEventListener("enter",function(){1==v_prog&&onOut()}),esfera4.addEventListener("load",function(){v_prog=1}),pin_vid_e4=new PANOLENS.Infospot(350,PANOLENS.DataImage.Video),pin_vid_e4.position.set(475.41,-4024.76,-2922.25),pin_vid_e4.addHoverElement(document.getElementById("video-1"),170),pin_vid_e4.addEventListener("hoverenter",function(){title_pin("Vídeo sobre a banheira","entrou"),null!=vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate())}),pin_vid_e4.addEventListener("hoverleave",function(){title_pin("Vídeo sobre a banheira","saiu")}),pin_vid_e4.addEventListener("click",function(){null!=vmacess&&($("#tooltip-span").click(),$("#tooltip-span").vibrate("long"))}),esfera.link(esfera2,new THREE.Vector3(-2749.16,-768.66,-4096.93),350,PANOLENS.DataImage.SetaCima,"Cozinha"),esfera.link(esfera3,new THREE.Vector3(-4351.98,-145.9,-2444.49),350,PANOLENS.DataImage.SetaDir,"Quarto"),esfera.link(esfera4,new THREE.Vector3(-3774.11,-135.75,-3265.08),350,PANOLENS.DataImage.SetaDir,"Banheiro"),esfera.add(pin_img_e1),esfera.add(pin_map_e1),esfera.add(pin_aud_e1),esfera2.link(esfera,new THREE.Vector3(1985.87,-1532.8,4321.7),350,PANOLENS.DataImage.SetaCima,"Sala"),esfera2.link(esfera3,new THREE.Vector3(-1998.14,-83.72,4577.85),350,PANOLENS.DataImage.SetaEsq,"Quarto"),esfera2.link(esfera4,new THREE.Vector3(-4753.31,-642.44,1378.73),350,PANOLENS.DataImage.SetaCima,"Banheiro"),esfera2.add(pin_inf_e2),esfera3.link(esfera,new THREE.Vector3(4270.45,222.91,2575.84),350,PANOLENS.DataImage.SetaEsq,"Sala"),esfera3.link(esfera2,new THREE.Vector3(4368.92,-335.5,2394.88),350,PANOLENS.DataImage.SetaDiaCimaDir,"Cozinha"),esfera4.link(esfera2,new THREE.Vector3(-3789.94,-114.17,3246.89),350,PANOLENS.DataImage.SetaEsq,"Cozinha"),esfera4.add(pin_vid_e4),navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)?($("#btn-vr").css("display","none"),viewer=new PANOLENS.Viewer({container:document.body,controlBar:!0,controlButtons:["fullscreen","setting","video"],autoHideControlBar:!1,autoHideInfospot:!1,horizontalView:!1,cameraFov:70,reverseDragging:!1,enableReticle:!1,dwellTime:1200,autoReticleSelect:!0,viewIndicator:!1,indicatorSize:30,output:"console"})):viewer=new PANOLENS.Viewer({container:document.body,controlBar:!0,controlButtons:["fullscreen","video"],autoHideControlBar:!1,autoHideInfospot:!1,horizontalView:!1,cameraFov:70,reverseDragging:!1,enableReticle:!1,dwellTime:1200,autoReticleSelect:!0,viewIndicator:!1,indicatorSize:30,output:"console"}),viewer.add(esfera,esfera2,esfera3,esfera4),btn_acess.onclick=function(){null==vmacess?(modal_acess.style.display="block",audio_acess_inicio.play()):(btn_acess.style.backgroundImage="url('_assets/_img/acess_on.png')",btn_acess.title="Clique para ativar acessibilidade",stop_acess(),vmacess=null)},btn_acess_x.onclick=function(){modal_acess.style.display="none",audio_acess_inicio.pause(),audio_acess_inicio.currentTime=0},btn_acess_ok.onclick=function(){null==vmacess&&(modal_acess.style.display="none",audio_acess_inicio.pause(),audio_acess_inicio.currentTime=0,btn_acess.style.backgroundImage="url('_assets/_img/acess_off.png')",btn_acess.title="Clique para desativar acessibilidade",vmacess=1,comecar_acess())},navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||(btn_acess.addEventListener("mousemove",function(){title_btn(btn_acess.title,"entrou")}),btn_acess.addEventListener("mouseout",function(){title_btn(btn_acess.title,"saiu")})),btn_vr.onclick=function(){if(null!=vmvr)btn_vr.style.backgroundImage="url('_assets/_img/vr.png')",btn_vr.style.width="44px",btn_vr.style.height="44px",btn_vr.style.bottom="2px",btn_vr.style.left="",btn_acess.style.display="block",viewer.enableControl(PANOLENS.Controls.ORBIT),viewer.enableEffect(PANOLENS.Modes.NORMAL),vmvr=null;else if(btn_vr.style.backgroundImage="url('_assets/_img/back.png')",btn_vr.style.width="30px",btn_vr.style.height="30px",btn_vr.style.bottom="6px",btn_vr.style.left="48%",btn_acess.style.display="none",viewer.enableControl(PANOLENS.Controls.DEVICEORIENTATION),viewer.enableEffect(PANOLENS.Modes.CARDBOARD),vmvr=1,window.matchMedia("(orientation: portrait)").matches){var e=document.createElement("span");e.classList.add("tag_aviso"),e.setAttribute("id","spn_aviso");var t=document.createTextNode("Vire o seu dispositivo");e.appendChild(t),document.body.appendChild(e),$("#spn_aviso").fadeOut(2500),setTimeout(function(){$("#spn_aviso").remove()},3500)}},navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||(btn_vr.addEventListener("mousemove",function(){title_btn("Ativar modo VR","entrou")}),btn_vr.addEventListener("mouseout",function(){title_btn("Ativar modo VR","saiu")}));